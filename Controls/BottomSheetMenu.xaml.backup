<?xml version="1.0" encoding="utf-8" ?>
<ContentView
    x:Class="mindvault.Controls.BottomSheetMenu"
    xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
    xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
    IsVisible="False">

  <Grid x:Name="Overlay" BackgroundColor="#66000000" Opacity="0">
    <!-- close when tapping the dim background -->
    <Grid.GestureRecognizers>
      <TapGestureRecognizer Tapped="OnBackdropTapped"/>
    </Grid.GestureRecognizers>

    <!-- Sheet -->
    <Border x:Name="Sheet"
            BackgroundColor="White"
            StrokeThickness="0"
            Padding="18,16"
            TranslationY="420"
            VerticalOptions="End"
            StrokeShape="RoundRectangle 22,22,0,0">
      <VerticalStackLayout Spacing="14">

        <!-- Header -->
        <Grid ColumnDefinitions="*,Auto" Padding="0,4,0,8">
          <HorizontalStackLayout Spacing="8"
                                 SemanticProperties.Description="Mind Vault navigation menu"
                                 SemanticProperties.Hint="Tap to return to home page"
                                 AutomationId="MenuHeader">
            <!-- Replace with your logo if you have one -->
            <Label Text="&#xF0E7;" FontFamily="FontAwesome6FreeSolid" FontSize="20" TextColor="#6C4DF7"
                   VerticalOptions="Center"
                   SemanticProperties.HeadingLevel="Level1"/>
            <Label Text="Mind Vault" FontAttributes="Bold" FontSize="20" TextColor="#6C4DF7"
                   VerticalOptions="Center"
                   SemanticProperties.HeadingLevel="Level1"/>
            <HorizontalStackLayout.GestureRecognizers>
              <TapGestureRecognizer Tapped="OnHeaderTapped" />
            </HorizontalStackLayout.GestureRecognizers>
          </HorizontalStackLayout>

          <!-- close icon -->
          <Border Grid.Column="1" WidthRequest="34" HeightRequest="34"
                  Stroke="#EAE6FF" StrokeThickness="1"
                  StrokeShape="Ellipse" BackgroundColor="White"
                  SemanticProperties.Description="Close menu"
                  SemanticProperties.Hint="Closes the navigation menu"
                  AutomationId="CloseMenuButton">
            <Label Text="&#xF060;" FontFamily="FontAwesome6FreeSolid" FontSize="14" TextColor="#6C4DF7"
                   HorizontalOptions="Center" VerticalOptions="Center"/>
            <Border.GestureRecognizers>
              <TapGestureRecognizer Tapped="OnCloseTapped"/>
            </Border.GestureRecognizers>
          </Border>
        </Grid>

        <BoxView HeightRequest="1" BackgroundColor="#EAE6FF"/>

        <!-- Items -->
        <Grid ColumnDefinitions="Auto,*" ColumnSpacing="8"
              SemanticProperties.Description="Create reviewer"
              SemanticProperties.Hint="Create a new flashcard deck"
              AutomationId="CreateMenuItem">
          <Label Text="&#xF304;" FontFamily="FontAwesome6FreeSolid" FontSize="18" TextColor="#6C4DF7" VerticalOptions="Center"/>
          <Label Grid.Column="1" Text="Create Reviewer" FontSize="16" TextColor="#222" />
          <Grid.GestureRecognizers><TapGestureRecognizer Tapped="OnCreateTapped"/></Grid.GestureRecognizers>
        </Grid>

        <Grid ColumnDefinitions="Auto,*" ColumnSpacing="8"
              SemanticProperties.Description="Browse reviewers"
              SemanticProperties.Hint="View all your flashcard decks"
              AutomationId="BrowseMenuItem">
          <Label Text="&#xF002;" FontFamily="FontAwesome6FreeSolid" FontSize="18" TextColor="#6C4DF7" VerticalOptions="Center"/>
          <Label Grid.Column="1" Text="Browse Reviewer" FontSize="16" TextColor="#222" />
          <Grid.GestureRecognizers><TapGestureRecognizer Tapped="OnBrowseTapped"/></Grid.GestureRecognizers>
        </Grid> 

        <!-- Multiplayer Mode -->
        <Grid ColumnDefinitions="Auto,*" ColumnSpacing="8"
              SemanticProperties.Description="Multiplayer mode"
              SemanticProperties.Hint="Host or join a multiplayer game"
              AutomationId="MultiplayerMenuItem">
          <Label Text="&#xF0C0;" FontFamily="FontAwesome6FreeSolid" FontSize="18" TextColor="#6C4DF7" VerticalOptions="Center"/>
          <Label Grid.Column="1" Text="Multiplayer Mode" FontSize="16" TextColor="#222" />
          <Grid.GestureRecognizers><TapGestureRecognizer Tapped="OnMultiplayerTapped"/></Grid.GestureRecognizers>
        </Grid>

        <!-- Import -->
        <Grid ColumnDefinitions="Auto,*" ColumnSpacing="8"
              SemanticProperties.Description="Import flashcards"
              SemanticProperties.Hint="Import flashcards from a file"
              AutomationId="ImportMenuItem">
          <Label Text="&#xF019;" FontFamily="FontAwesome6FreeSolid" FontSize="18" TextColor="#6C4DF7" VerticalOptions="Center"/>
          <Label Grid.Column="1" Text="Import" FontSize="16" TextColor="#222" />
          <Grid.GestureRecognizers><TapGestureRecognizer Tapped="OnImportTapped"/></Grid.GestureRecognizers>
        </Grid>

        <!-- Settings (replaces Export) -->
        <Grid ColumnDefinitions="Auto,*" ColumnSpacing="8"
              SemanticProperties.Description="Settings"
              SemanticProperties.Hint="Open application settings"
              AutomationId="SettingsMenuItem">
          <Label Text="&#xF013;" FontFamily="FontAwesome6FreeSolid" FontSize="18" TextColor="#6C4DF7" VerticalOptions="Center"/>
          <Label Grid.Column="1" Text="Settings" FontSize="16" TextColor="#222" />
          <Grid.GestureRecognizers><TapGestureRecognizer Tapped="OnSettingsTapped"/></Grid.GestureRecognizers>
        </Grid>

        <!-- bottom safe space -->
        <BoxView HeightRequest="6" />
      </VerticalStackLayout>
    </Border>
  </Grid>
</ContentView> 