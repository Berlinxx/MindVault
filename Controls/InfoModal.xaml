<?xml version="1.0" encoding="utf-8" ?>
<toolkit:Popup
    xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
    xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
    xmlns:toolkit="http://schemas.microsoft.com/dotnet/2022/maui/toolkit"
    x:Class="mindvault.Controls.InfoModal"
    CanBeDismissedByTappingOutsideOfPopup="False"
    Color="#91FFFFFF">

    <!-- Centered modal content -->
    <Border
        x:Name="ModalBorder"
        BackgroundColor="#F5FFFFFF"
        Stroke="#2C71F0"
        StrokeThickness="2"
        HorizontalOptions="Center"
        VerticalOptions="Center"
        Padding="24"
        MinimumWidthRequest="420"
        MaximumWidthRequest="520">
            <Grid RowDefinitions="Auto,Auto,Auto" ColumnDefinitions="*">
                <!-- Title -->
                <Label
                    Grid.Row="0"
                    Text="{Binding TitleText}"
                    TextColor="Black"
                    HorizontalTextAlignment="Center"
                    VerticalTextAlignment="Center"
                    FontAttributes="Bold"
                    FontSize="20"
                    Margin="0,0,0,8" />

                <!-- Message -->
                <Label
                    Grid.Row="1"
                    Text="{Binding MessageText}"
                    TextColor="#666666"
                    HorizontalTextAlignment="Center"
                    VerticalTextAlignment="Center"
                    LineBreakMode="WordWrap"
                    Margin="0,0,0,16" />

                <!-- Buttons Row -->
                <HorizontalStackLayout Grid.Row="2" Spacing="12" HorizontalOptions="Center">
                    <!-- Single button (centered) -->
                    <Button
                        x:Name="LeftButton"
                        Text="{Binding LeftButtonText}"
                        BackgroundColor="#0D6EFD"
                        TextColor="White"
                        CornerRadius="12"
                        MinimumWidthRequest="100"
                        Padding="16,12"
                        HeightRequest="45"
                        Clicked="OnLeftClicked"
                        HorizontalOptions="Center"
                        IsVisible="{Binding IsSingleButton}" />

                    <!-- Two-button layout: left button (Cancel - Blue) -->
                    <Button
                        x:Name="LeftButtonTwo"
                        Text="{Binding LeftButtonText}"
                        BackgroundColor="#0D6EFD"
                        TextColor="White"
                        CornerRadius="12"
                        MinimumWidthRequest="100"
                        Padding="16,12"
                        HeightRequest="45"
                        Clicked="OnLeftClicked"
                        HorizontalOptions="Center"
                        IsVisible="{Binding IsTwoButtons}" />

                    <!-- Two-button layout: right button (Action - Red for destructive) -->
                    <Button
                        x:Name="RightButtonTwo"
                        Text="{Binding RightButtonText}"
                        BackgroundColor="#E74C3C"
                        TextColor="White"
                        CornerRadius="12"
                        MinimumWidthRequest="100"
                        Padding="16,12"
                        HeightRequest="45"
                        Clicked="OnRightClicked"
                        HorizontalOptions="Center"
                        IsVisible="{Binding IsTwoButtons}" />
                </HorizontalStackLayout>
            </Grid>
        </Border>
</toolkit:Popup>
